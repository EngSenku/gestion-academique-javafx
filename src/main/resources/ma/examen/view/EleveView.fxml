<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<HBox xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
      fx:controller="ma.examen.controller.EleveController" spacing="20" style="-fx-padding: 20;">

    <VBox spacing="15" HBox.hgrow="ALWAYS">
        <Label text="Gestion des Étudiants" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>

        <GridPane hgap="15" vgap="15">
            <columnConstraints>
                <ColumnConstraints hgrow="ALWAYS" percentWidth="50.0"/>
                <ColumnConstraints hgrow="ALWAYS" percentWidth="50.0"/>
            </columnConstraints>

            <TextField fx:id="txtMatricule" promptText="Matricule (ex: E1234)" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
            <TextField fx:id="txtNom" promptText="Nom de famille" GridPane.rowIndex="0" GridPane.columnIndex="1"/>
            <TextField fx:id="txtPrenom" promptText="Prénom" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
            <TextField fx:id="txtEmail" promptText="Email" GridPane.rowIndex="1" GridPane.columnIndex="1"/>
            <ComboBox fx:id="cmbFiliere" promptText="Sélectionner une filière..." maxWidth="Infinity" GridPane.rowIndex="2" GridPane.columnIndex="0" GridPane.columnSpan="2"/>
        </GridPane>

        <HBox spacing="10">
            <Button text="Ajouter" onAction="#handleAjouter" style="-fx-background-color: #27ae60; -fx-text-fill: white;"/>
            <Button text="Modifier" onAction="#handleModifier" style="-fx-background-color: #f39c12; -fx-text-fill: white;"/>
            <Button text="Supprimer" onAction="#handleSupprimer" style="-fx-background-color: #e74c3c; -fx-text-fill: white;"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button text="Dossier Administratif" onAction="#handleDossier" style="-fx-background-color: #34495e; -fx-text-fill: white;"/>
        </HBox>

        <TableView fx:id="table" VBox.vgrow="ALWAYS">
            <columns>
                <TableColumn fx:id="colMat" text="Matricule"/>
                <TableColumn fx:id="colNom" text="Nom"/>
                <TableColumn fx:id="colPrenom" text="Prénom"/>
                <TableColumn fx:id="colFil" text="Filière"/>
            </columns>
            <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/></columnResizePolicy>
        </TableView>
    </VBox>

    <VBox spacing="10" style="-fx-border-color: #ccc; -fx-padding: 10; -fx-background-color: #f9f9f9;" minWidth="280">
        <Label text="Cours Inscrits" style="-fx-font-weight: bold; -fx-underline: true;"/>
        <Label text="(Liste en lecture seule)" style="-fx-text-fill: #999; -fx-font-size: 10px;"/>

        <ListView fx:id="listCoursInscrits" VBox.vgrow="ALWAYS"/>

        <Separator/>

        <Button text="Gérer les Inscriptions (Ajout/Retrait)" onAction="#handleGestionInscriptions"
                maxWidth="Infinity" style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10;"/>
    </VBox>
</HBox>